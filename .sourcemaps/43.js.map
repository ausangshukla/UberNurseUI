{"version":3,"sources":["../../src/pages/care-homes/care-home-search/care-home-search.module.ts","../../src/pages/care-homes/care-home-search/care-home-search.ts"],"names":[],"mappings":"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","file":"43.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { CareHomeSearch } from './care-home-search';\n\n@NgModule({\n  declarations: [\n    CareHomeSearch,\n  ],\n  imports: [\n    IonicPageModule.forChild(CareHomeSearch),\n  ],\n  exports: [\n    CareHomeSearch,\n  ]\n})\nexport class CareHomeSearchModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/care-homes/care-home-search/care-home-search.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Searchbar, IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { CareHomeApi } from '../../../providers/care-home-api';\nimport { CqcRecordApi } from '../../../providers/cqc-record-api';\nimport { ResponseUtility } from '../../../providers/response-utility';\n/**\n * Generated class for the CareHomeSearchPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n\n@Component({\n  selector: 'page-care-home-search',\n  templateUrl: 'care-home-search.html',\n})\nexport class CareHomeSearch {\n\n  \n  searchTerm = \"\";\n  cqc_records = null;\n  care_homes = null;\n\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public loadingController: LoadingController,\n    public care_homeApi: CareHomeApi,\n    public cqcApi: CqcRecordApi,\n    public respUtility: ResponseUtility) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CareHomeSearch');\n    this.respUtility.trackView(\"CareHomeSearch\");\n  }\n\n  loadCareHomes(searchTerm) {\n    let loader = this.loadingController.create({\n      content: 'Loading CareHomes...'\n    });\n    loader.present();\n\n    this.cqcApi.getCareHomesAndCqcRecords(searchTerm).subscribe(\n      response => {\n        this.cqc_records = response[\"cqc_records\"];\n        this.care_homes = response[\"care_homes\"];\n        console.log(\"Loaded CareHome\");\n        console.log(this.cqc_records);\n\n      },\n      error => { this.respUtility.showFailure(error); loader.dismiss(); },\n      () => { loader.dismiss(); }\n    );\n  }\n\n  onSearch(event) {\n    if (this.searchTerm) {\n      this.respUtility.trackEvent(\"CareHome\", \"Search\", \"click\");\n      this.loadCareHomes(this.searchTerm);\n    } else {\n      this.cqc_records = null;\n      this.care_homes = null;\n    }\n  }\n\n  onCancel() {\n    this.searchTerm = \"\";\n  }\n\n  exsitingCareHome(care_home) {\n    this.navCtrl.push('CareHomeDetails', care_home);\n  }\n\n  newCareHome(cqc) {\n    let care_home = {};\n    if (cqc) {\n      care_home = {\n        name: cqc.name, postcode: cqc.postcode,\n        phone: cqc.phone, address: cqc.address,\n        cqc_location: cqc.cqc_location\n      };\n    }\n    this.respUtility.trackEvent(\"CareHome\", \"New\", \"click\");\n    this.navCtrl.push('CareHomeForm', care_home);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/care-homes/care-home-search/care-home-search.ts"],"sourceRoot":""}
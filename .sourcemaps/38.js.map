{"version":3,"sources":["../../src/pages/login/password-reset/password-reset.module.ts","../../src/pages/login/password-reset/password-reset.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACC;AAajD;IAAA;IAAkC,CAAC;IAAtB,mBAAmB;QAX/B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,sEAAa;aACd;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,sEAAa,CAAC;aACxC;YACD,OAAO,EAAE;gBACP,sEAAa;aACd;SACF,CAAC;OACW,mBAAmB,CAAG;IAAD,0BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfU;AACkC;AACR;AAChB;AACf;AACiC;AAChB;AACH;AAOnD;IASE,uBAAmB,OAAsB,EAChC,SAAoB,EACpB,WAAwB,EACxB,WAA4B,EAC5B,iBAAoC,EACnC,YAAiC,EACjC,OAAgB,EAChB,MAAc,EACd,IAAU;QARD,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAiB;QAC5B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACnC,iBAAY,GAAZ,YAAY,CAAqB;QACjC,YAAO,GAAP,OAAO,CAAS;QAChB,WAAM,GAAN,MAAM,CAAQ;QACd,SAAI,GAAJ,IAAI,CAAM;QAZpB,eAAU,GAAG,EAAE,CAAC;QAed,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,KAAK,CAAC;YACpC,MAAM,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACvD,QAAQ,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,OAAO,CAAC,kEAAkE,CAAC,EAAE,0DAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,0DAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YAC1K,gBAAgB,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;SAClE,CAAC,CAAC;QAEH,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;IAE5C,CAAC;IAED,sCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACtC,CAAC;IAED,6BAAK,GAAL;QAAA,iBA4BC;QA1BC,IAAG,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,iEAAiE,CAAC;SAChG;aAAM;YAEL,IAAI,IAAI,CAAC,KAAK,IAAI,IAAI,EAAE;gBACtB,IAAI,CAAC,OAAO,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CAC/E,aAAG;oBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACjB,IAAI,GAAG,CAAC,OAAO,CAAC,IAAI,IAAI,EAAE;wBACxB,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,kEAAkE,CAAC;wBAChG,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;qBACpB;yBAAM;wBACL,IAAI,GAAG,CAAC,gBAAgB,CAAC,IAAI,IAAI,EAAE;4BACjC,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,qEAAqE,CAAC,CAAC;yBACrG;6BAAM;4BACL,KAAI,CAAC,WAAW,CAAC,WAAW,CAAC,4EAA4E,CAAC,CAAC;yBAC5G;qBACF;gBACH,CAAC,EACD,eAAK,IAAI,YAAI,CAAC,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,EAAnC,CAAmC,CAC7C,CAAC;aACH;iBAAM;gBACL,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,mCAAmC,CAAC,CAAC;aACnE;SAEF;IACH,CAAC;IA9DU,aAAa;QAJzB,gEAAS,CAAC;YACT,QAAQ,EAAE,qBAAqB;WACG;SACnC,CAAC;qEAUyC;YACrB,2DAAS;YACP,oFAAW;YACX,gEAAe;YACT,0EAAiB;YACrB,qEAAmB;YACxB,kEAAO;YACR,6DAAM;YACR,IAAI;OAjBT,aAAa,CAgEzB;IAAD,CAAC;AAAA;SAhEY,aAAa,oB","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PasswordReset } from './password-reset';\n\n@NgModule({\n  declarations: [\n    PasswordReset,\n  ],\n  imports: [\n    IonicPageModule.forChild(PasswordReset),\n  ],\n  exports: [\n    PasswordReset\n  ]\n})\nexport class PasswordResetModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/password-reset/password-reset.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { AngularTokenService } from 'angular-token';\nimport { Http } from '@angular/http';\nimport { ResponseUtility } from '../../../providers/response-utility';\nimport { UserApi } from '../../../providers/user-api';\nimport { Config } from '../../../providers/config';\n\n@IonicPage()\n@Component({\n  selector: 'page-password-reset',\n  templateUrl: 'password-reset.html',\n})\nexport class PasswordReset {\n\n  secret: any;\n  password: any;\n  confirm_password: any;\n  headerInfo = {};\n  email: any;\n\n  slideOneForm: FormGroup;\n  constructor(public navCtrl: NavController,\n    public navParams: NavParams,\n    public formBuilder: FormBuilder,\n    public respUtility: ResponseUtility,\n    public loadingController: LoadingController,\n    private tokenService: AngularTokenService,\n    private userApi: UserApi,\n    private config: Config,\n    private http: Http) {\n\n\n    this.slideOneForm = formBuilder.group({\n      secret: ['', Validators.compose([Validators.required])],\n      password: ['', Validators.compose([Validators.pattern('^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,70}$'), Validators.minLength(8), Validators.required])],\n      confirm_password: ['', Validators.compose([Validators.required])],\n    });\n\n    this.email = this.navParams.data[\"email\"];\n    \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Login');\n  }\n\n  reset() {\n\n    if(this.password != this.confirm_password) {\n      this.respUtility.showWarning(\"Passwords dont match, please re-enter the password and confirm.\")\n    } else {\n\n      if (this.email != null) {\n        this.userApi.resetPasswordBySms(this.email, this.secret, this.password).subscribe(\n          res => {\n            console.log(res);\n            if (res[\"reset\"] == true) {\n              this.respUtility.showSuccess(\"Password reset successfully, please login with the new password.\")\n              this.navCtrl.pop();  \n            } else {\n              if (res[\"user_not_found\"] == true) {\n                this.respUtility.showWarning(\"Email specified above was not found in our system. Please register.\");\n              } else {\n                this.respUtility.showWarning(\"Password reset failed. Please check the secret sent via sms or contact us.\");\n              }\n            }\n          },\n          error => this.respUtility.showFailure(error)\n        );\n      } else {\n        this.respUtility.showWarning(\"Please enter a valid email above.\");\n      }\n      \n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/password-reset/password-reset.ts"],"sourceRoot":""}
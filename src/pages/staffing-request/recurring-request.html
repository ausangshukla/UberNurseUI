<ion-header>

    <ion-navbar color="primary">
      <ion-title>Block Bookings</ion-title>
    </ion-navbar>
  
  </ion-header>
  
  
  <ion-content padding>
  
  
    <ion-card *ngIf="recurringRequests && recurringRequests.length == 0">
      <ion-card-title class="center">
        No Requests Found
      </ion-card-title>
  
      <ion-card-content>
        <p class="center">
          Sorry there are no Requests at this time.
        </p>
        <button ion-button full (click)="newRecurringRequest()">Create New Block Booking</button>
      </ion-card-content>
    </ion-card>
  
    <ion-fab id="new_staffing_request_btn" bottom right *ngIf="current_user.role!='Care Giver' && current_user.role!='Nurse' && current_user.care_home && current_user.care_home.verified ">
      <button ion-fab (click)="newRecurringRequest()"><ion-icon name="add"></ion-icon></button>
    </ion-fab>
  
  
    <ion-list>
      <button ion-item id="RecurringRequest-{{recurringRequest.id}}-item" *ngFor="let recurringRequest of recurringRequests" 
      (click)=loadRequests(recurringRequest)>
         
        <p text-wrap>
          Agency: {{recurringRequest.agency.name}}
        </p>
  
        <p text-wrap>
          Staff Type: {{recurringRequest.role}}
        </p>
  
        <p>
          Start: {{recurringRequest.start_date | utc_date | date: 'HH:mm'}}
        </p>
         
        <p>
          End: {{recurringRequest.end_date | utc_date | date: 'HH:mm'}}
        </p>

        <p *ngFor="let date of recurringRequest.dates">
            {{date | date: "dd/MM/yyyy"}}
        </p>
  
      </button>
    </ion-list>
  
  </ion-content>
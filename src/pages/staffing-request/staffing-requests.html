<ion-header>

  <ion-navbar color="primary">
    <ion-title>Staffing Requests</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-fab bottom right *ngIf="current_user.role!='Care Giver'">
    <button ion-fab (click)="newRequest()"><ion-icon name="add"></ion-icon></button>
  </ion-fab>


  <ion-list>
    <button ion-item *ngFor="let staffingRequest of staffingRequests" (click)=getStaffingRequestDetails(staffingRequest)>
       
      <p>
        Care Home: {{staffingRequest.hospital.name}}
      </p>

      <p>
        Start Date: {{staffingRequest.start_date | date: 'dd/MM/yyyy H:mm:ss Z '}}
      </p>
       
      <p>
        End Date: {{staffingRequest.end_date | date: 'dd/MM/yyyy H:mm'}}
      </p>
      
      <ion-badge>{{staffingRequest.rate_per_hour | currency}}</ion-badge> 
      <ion-badge color="secondary" *ngIf="staffingRequest.request_status == 'Approved'">
        Approved
      </ion-badge>
      <ion-badge color="danger" *ngIf="staffingRequest.request_status == 'Denied'">
        Denied
      </ion-badge>
      <ion-badge class="warning-badge" *ngIf="!staffingRequest.request_status || staffingRequest.request_status == 'Pending Approval'">
        Pending Approval
      </ion-badge>
     

      


    </button>
  </ion-list>

</ion-content>